{"ast":null,"code":"import _slicedToArray from\"/home/cristi/Desktop/data/webdev/React-Tasklist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import CreateTask from'./CreateTask';import EditTask from'./EditTask';import'./tasklist.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require(\"axios\");export default function Tasklist(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),servicenowData=_useState2[0],setServicenowData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalVisibility=_useState4[0],setmodalVisibility=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),editModalVisibility=_useState6[0],setEditModalVisibility=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),editTaskData=_useState8[0],setEditTaskData=_useState8[1];// Creating Tasks Modal\nvar closeModal=function closeModal(value){setmodalVisibility(value);};var showModal=function showModal(){setmodalVisibility(true);};// Editing Tasks Modal\nvar showEditModal=function showEditModal(element){setEditModalVisibility(true);setEditTaskData(element);};var closeEditModal=function closeEditModal(value){setEditModalVisibility(value);};// REST API Get Method\nvar getData=function getData(){var qs=require(\"qs\");var data=qs.stringify({// grant_type: \"password\",\n// client_id: \"f5310f090dfd11107f17158b75eeaff2\",\n// client_secret: \"<UpvsoyH6@\",\n// username: \"rest.user\",\n// password: \"Ac}}v2qC%2dTlFn#p@\",\n});var config={method:\"get\",url:\"https://dev75752.service-now.com/api/x_723118_dashboard/task_list\",headers:{//Authorization': 'Bearer WIJpHnPnZhmn5TFKPzayZolwZ2W9TsxNv0Rj1UdpVFECKXV2BdjGMG0INye5IGoyyDyWVWXk9Eoz5Gv28n8CDA',\n'Authorization':'Basic YWRtaW46bVdYYThvYmxIOEVJ'},data:data};axios(config).then(function(response){var retrievedData=response.data.result;setServicenowData(retrievedData);}).catch(function(error){console.log(error);});};// REST API Delete Method\nvar deleteTask=function deleteTask(sys_id){var qs=require(\"qs\");var data=qs.stringify({// grant_type: \"password\",\n// client_id: \"f5310f090dfd11107f17158b75eeaff2\",\n// client_secret: \"<UpvsoyH6@\",\n// username: \"rest.user\",\n// password: \"Ac}}v2qC%2dTlFn#p@\",\n});var config={method:\"delete\",url:\"https://dev75752.service-now.com/api/x_723118_dashboard/task_list/\".concat(sys_id),headers:{// 'Authorization': 'Bearer WIJpHnPnZhmn5TFKPzayZolwZ2W9TsxNv0Rj1UdpVFECKXV2BdjGMG0INye5IGoyyDyWVWXk9Eoz5Gv28n8CDA',\nAuthorization:\"Basic YWRtaW46bVdYYThvYmxIOEVJ\"},data:data};axios(config).then(function(response){getData();}).catch(function(error){console.log(error);});};useEffect(function(){getData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"TASK LIST APP\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tableContainer\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"TITLE\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"DETAILS\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"DUE DATA\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:servicenowData.map(function(element){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:element.title}),/*#__PURE__*/_jsx(\"td\",{children:element.details}),/*#__PURE__*/_jsx(\"td\",{children:element.date}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){deleteTask(element.sys_id);},children:\"DELETE\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){showEditModal({\"title\":element.title,\"details\":element.details,\"date\":element.date,\"sys_id\":element.sys_id});},children:\"EDIT\"})})]},element.number);})})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){showModal();},children:\"CREATE TASK\"}),modalVisibility&&/*#__PURE__*/_jsx(CreateTask,{modalVisibility:closeModal,getData:getData}),editModalVisibility&&/*#__PURE__*/_jsx(EditTask,{modalVisibility:closeEditModal,editTask:editTaskData,getData:getData})]});}","map":{"version":3,"names":["useState","useEffect","CreateTask","EditTask","axios","require","Tasklist","servicenowData","setServicenowData","modalVisibility","setmodalVisibility","editModalVisibility","setEditModalVisibility","editTaskData","setEditTaskData","closeModal","value","showModal","showEditModal","element","closeEditModal","getData","qs","data","stringify","config","method","url","headers","then","response","retrievedData","result","catch","error","console","log","deleteTask","sys_id","Authorization","map","title","details","date","number"],"sources":["/home/cristi/Desktop/data/webdev/React-Tasklist/src/components/Tasklist.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport CreateTask from './CreateTask';\r\nimport EditTask from './EditTask';\r\nimport './tasklist.css';\r\nconst axios = require(\"axios\");\r\n\r\nexport default function Tasklist(){\r\n    \r\n    const [servicenowData, setServicenowData] = useState([]);\r\n    const [modalVisibility, setmodalVisibility] = useState(false);\r\n    const [editModalVisibility, setEditModalVisibility] = useState(false);\r\n    const [editTaskData, setEditTaskData] = useState({});\r\n\r\n    // Creating Tasks Modal\r\n    const closeModal = (value) => {\r\n        setmodalVisibility(value);\r\n    }\r\n\r\n    const showModal = () => {\r\n      setmodalVisibility(true);\r\n    };\r\n  \r\n    // Editing Tasks Modal\r\n    const showEditModal = (element) => {\r\n      setEditModalVisibility(true);\r\n      setEditTaskData(element)\r\n    }\r\n\r\n    const closeEditModal = (value) => {\r\n      setEditModalVisibility(value)\r\n    }\r\n\r\n\r\n    // REST API Get Method\r\n  const getData = () => {\r\n    var qs = require(\"qs\");\r\n    var data = qs.stringify({\r\n      // grant_type: \"password\",\r\n      // client_id: \"f5310f090dfd11107f17158b75eeaff2\",\r\n      // client_secret: \"<UpvsoyH6@\",\r\n      // username: \"rest.user\",\r\n      // password: \"Ac}}v2qC%2dTlFn#p@\",\r\n    });\r\n    var config = {\r\n      method: \"get\",\r\n      url: \"https://dev75752.service-now.com/api/x_723118_dashboard/task_list\",\r\n      headers: {\r\n        //Authorization': 'Bearer WIJpHnPnZhmn5TFKPzayZolwZ2W9TsxNv0Rj1UdpVFECKXV2BdjGMG0INye5IGoyyDyWVWXk9Eoz5Gv28n8CDA',\r\n        'Authorization': 'Basic YWRtaW46bVdYYThvYmxIOEVJ',\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios(config)\r\n      .then(function (response) {\r\n        const retrievedData = response.data.result;\r\n        setServicenowData(retrievedData);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n    // REST API Delete Method\r\n  const deleteTask = (sys_id) => {\r\n    var qs = require(\"qs\");\r\n    var data = qs.stringify({\r\n      // grant_type: \"password\",\r\n      // client_id: \"f5310f090dfd11107f17158b75eeaff2\",\r\n      // client_secret: \"<UpvsoyH6@\",\r\n      // username: \"rest.user\",\r\n      // password: \"Ac}}v2qC%2dTlFn#p@\",\r\n    });\r\n    var config = {\r\n      method: \"delete\",\r\n      url: `https://dev75752.service-now.com/api/x_723118_dashboard/task_list/${sys_id}`,\r\n      headers: {\r\n        // 'Authorization': 'Bearer WIJpHnPnZhmn5TFKPzayZolwZ2W9TsxNv0Rj1UdpVFECKXV2BdjGMG0INye5IGoyyDyWVWXk9Eoz5Gv28n8CDA',\r\n        Authorization:\r\n          \"Basic YWRtaW46bVdYYThvYmxIOEVJ\",\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios(config)\r\n      .then(function (response) {\r\n        getData();\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n        <h3>TASK LIST APP</h3>\r\n\r\n        <div className=\"tableContainer\">\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">TITLE</th>\r\n                <th scope=\"col\">DETAILS</th>\r\n                <th scope=\"col\">DUE DATA</th>\r\n                <th scope=\"col\"></th>\r\n                <th scope=\"col\"></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {servicenowData.map((element) => (\r\n                <tr key={element.number}>\r\n                  <td>{element.title}</td>\r\n                  <td>{element.details}</td>\r\n                  <td>{element.date}</td>\r\n                  <td>\r\n                    <button\r\n                      className=\"btn btn-danger\"\r\n                      onClick={() => {\r\n                        deleteTask(element.sys_id);\r\n                      }}\r\n                    >\r\n                      DELETE\r\n                    </button>\r\n                  </td>\r\n                  <td>\r\n                    <button className=\"btn btn-danger\" onClick={()=>{\r\n                      showEditModal(\r\n                      {\r\n                      \"title\" : element.title,\r\n                      \"details\" : element.details,\r\n                      \"date\" : element.date,\r\n                      \"sys_id\" : element.sys_id\r\n                      }\r\n                      )}}>EDIT</button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          {/*End of Table container*/}\r\n        </div>\r\n\r\n        <button\r\n          className=\"btn btn-success\"\r\n          onClick={() => {\r\n            showModal();\r\n          }}\r\n        >\r\n          CREATE TASK\r\n        </button>\r\n        \r\n    {modalVisibility &&  <CreateTask modalVisibility={closeModal} getData = {getData}/>}\r\n    {editModalVisibility && <EditTask modalVisibility={closeEditModal} editTask={editTaskData} getData = {getData}/>}   \r\n\r\n        {/*End of Wrapper*/}\r\n      </div>\r\n      \r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}